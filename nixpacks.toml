# Nixpacks configuration for Railway
# This file forces Railway to use NIXPACKS builder instead of Docker
# Using lightweight requirements_railway.txt (no spaCy, KeyBERT, etc.)

[phases.setup]
nixPkgs = ["python39"]

[phases.install]
cmds = [
  "cd backend",
  "pip install -r requirements_railway.txt",
  "python -c \"import nltk; nltk.download('punkt'); nltk.download('stopwords'); nltk.download('averaged_perceptron_tagger')\""
]

[start]
cmd = "cd backend && python -m uvicorn app_v2:app --host 0.0.0.0 --port $PORT"
